<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale= 1.0" />
    <meta name="description" content="Gestor de recetas: crea tu menÃº semanal, genera lista de la compra y exporta en PDF.">
    <title>Gestor de Recetas</title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="icon" href="img/aguacate.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>

<body id="top">
    <header>

        <nav class="navbar">
            <h1>Gestor de Recetas</h1>

            <!-- Burguer menu -->
            <button type="button" class="hamburger" id="hamburger-btn" aria-label="Abrir menÃº">
                <i class="fa-solid fa-bars"></i>
            </button>

            <!--Normal menu-->
            <div class="navbar-container" id="navbar-menu">
                <ul>
                    <li><a href="#manage-menu">MenÃº semanal</a></li>
                    <li><a href="#section-search">Buscar recetas</a></li>
                    <li><a href="#section-list">Lista de recetas</a></li>
                    <li><a href="#recipes-form" class="toggle-link" data-target="recipes-form">AÃ±adir receta</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <main>

        <img src="img/aguacate.png" alt="Imagen de comida" class="header-image">


        <!--! Weekly Menu -->
        <div class="section-container" id="app-container">
            <section id="manage-menu">
                <h2 class="h1">â€“ MenÃº Semanal â€“</h2>
                <div class="table-wrapper">
                    <table id="weekly-menu">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Lunes</th>
                                <th>Martes</th>
                                <th>MiÃ©rcoles</th>
                                <th>Jueves</th>
                                <th>Viernes</th>
                                <th>SÃ¡bado</th>
                                <th>Domingo</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Desayuno</th>
                                <td class="meal-cell"  tabindex="0" data-day="Lunes" data-meal="Desayuno"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Martes" data-meal="Desayuno"></td>
                                <td class="meal-cell"  tabindex="0" data-day="MiÃ©rcoles" data-meal="Desayuno"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Jueves" data-meal="Desayuno"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Viernes" data-meal="Desayuno"></td>
                                <td class="meal-cell"  tabindex="0" data-day="SÃ¡bado" data-meal="Desayuno"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Domingo" data-meal="Desayuno"></td>
                            </tr>
                            <tr>
                                <th scope="row">Almuerzo</th>
                                <td class="meal-cell"  tabindex="0" data-day="Lunes" data-meal="Almuerzo"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Martes" data-meal="Almuerzo"></td>
                                <td class="meal-cell"  tabindex="0" data-day="MiÃ©rcoles" data-meal="Almuerzo"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Jueves" data-meal="Almuerzo"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Viernes" data-meal="Almuerzo"></td>
                                <td class="meal-cell"  tabindex="0" data-day="SÃ¡bado" data-meal="Almuerzo"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Domingo" data-meal="Almuerzo"></td>
                            </tr>
                            <tr>
                                <th scope="row">Cena</th>
                                <td class="meal-cell"  tabindex="0" data-day="Lunes" data-meal="Cena"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Martes" data-meal="Cena"></td>
                                <td class="meal-cell"  tabindex="0" data-day="MiÃ©rcoles" data-meal="Cena"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Jueves" data-meal="Cena"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Viernes" data-meal="Cena"></td>
                                <td class="meal-cell"  tabindex="0" data-day="SÃ¡bado" data-meal="Cena"></td>
                                <td class="meal-cell"  tabindex="0" data-day="Domingo" data-meal="Cena"></td>
                            </tr>
                        </tbody>
                    </table>    
                </div>
                <p class="table-instructions">
                    ðŸ’¡ <strong>Consejo:</strong> haz <em>clic</em> en una celda para aÃ±adir o editar una receta,
                    y <em>doble clic</em> para eliminar su contenido.
                </p>
                <button type="button" id="export-menu" class="btn btn-export-import"><i class="fas fa-file-download"></i>
                    PDF</button>
                <button type="button" id="clear-table" class="btn btn-delete">Limpiar semana</button>
                <button type="button" class="btn toggle-btn btn-main no-margin-top" data-target="shopping-list"
                    data-show-text="Mostrar lista" data-hide-text="Ocultar lista">
                    Mostrar lista
                </button>
            </section>
            <!-- Shopping List -->
            <section id="section-shopping">
                <div id="shopping-list" class="toggle-content">
                    <h2 class="h1">â€“ Lista de la compra â€“</h2>
                    <p class="table-instructions">
                        ðŸ’¡ <strong>Consejo:</strong><em> Generar lista</em> crea la lista a partir de las recetas ya guardadas.  
                        TambiÃ©n puedes aÃ±adir ingredientes manualmente para las recetas que no hayas guardado.
                      </p>
                    <div id="shopping-list-container" class="ingredient-bar">
                    </div>
                    <div class="columns">
                        <article id="shopping-list-auto">
                            <div class="auto-buttons-row">
                            <button type="button" id="generateListBtn" class="btn btn-main" aria-label="Generar lista">Generar lista</button>
                            <div id="share-buttons">
                                <button type="button" id="copy-list" class="btn btn-export-import" title="Copiar"><i class="fa-regular fa-copy"></i><span class="sr-only">Copiar</span>
                                    </button>
                                <button type="button" id="share-whatsapp" class="btn btn-export-import" title="WhatsApp"><i class="fa-brands fa-whatsapp"></i>
                                    </button>
                                <button type="button" id="share-system" class="btn btn-export-import" title="Compartir"><i class="fa-solid fa-share-from-square"></i>
                                    </button>
                                </div>
                            </div>
                            <div id="shopping-list-recipes">


                                <h3>Ingredientes Recetas</h3>
                                <ul id="shoppingList" class="shoppingList-class"></ul>
                            </div>
                        </article>
                        <article id="shopping-list-manual">
                            <form id="manual-ingredient-form" class="ingredient-inputs search-field">
                                <input type="number" id="manualQty" class="input-base" name="quantity-input"
                                    placeholder="Cantidad" min="0" step="1" title="Cantidad">
                                <select id="manualMeasure" class="input-base" name="measure-select">
                                    <option value="">Medida</option>
                                    <option value="g">g</option>
                                    <option value="kg">kg</option>
                                    <option value="ml">ml</option>
                                    <option value="L">L</option>
                                    <option value="cdita">cdita</option>
                                    <option value="cda">cda</option>
                                    <option value="taza">tza</option>
                                    <option value="onza">oz</option>
                                    <option value="ud">ud</option>
                                    <option value="pizca">pizca</option>
                                    <option value="hoja">hoja</option>
                                    <option value="rama">rama</option>
                                    <option value="trozo">trozo</option>
                                </select>
                                <input type="text" id="manualName" class="input-base" name="ingredient-input"
                                    placeholder="Ingrediente">
                                <button type="button" id="addManualBtn" class="btn btn-main">AÃ±adir</button>
                            </form>
                            <div id="shopping-list-others">

                                <h3>Otros Ingredientes</h3>
                                <ul id="manualList" class="shoppingList-class"></ul>
                            </div>
                        </article>
                    </div>
                    

                </div>
            </section>
            <!-- Floating Modal form -->
            <div id="manager-modal" class="hidden">
                <h2 id="modal-title"></h2>
                <ul id="modal-menu-list" style="list-style:none; padding:0; margin:0;"></ul>

                <h3 id="modal-assigned-recipes">Selecciona una receta</h3>
                <input type="text" id="modal-search-input" class="input-base" placeholder="Buscar receta..."
                    style="width:100%; margin-bottom:10px;">

                <ul id="modal-recipes-list" style="list-style:none; padding:0; margin:0;"></ul>
                <div id="modal-buttons">
                    <button type="button" id="add-cell" class="btn btn-main">AÃ±adir menÃº</button>
                    <button type="button" id="cancel-modal" class="btn btn-cancel">Cancelar</button>
                </div>
            </div>

            <!--! Search Recipes -->
            <section id="section-search">
                <h2 class="h1">â€“ Buscar Recetas â€“</h2>

                <form id="search-form">
                    <div class="search-field">
                        <input type="text" id="search-input" class="input-base" placeholder="Buscar recetas ...">
                        <button type="button" id="btn-search-name"
                            class="btn btn-main no-margin-top fa-solid fa-magnifying-glass "></button>
                        <div id="second-search-buttons">
                            <button type="button" id="btn-clear-search"
                                class="btn btn-cancel no-margin-top">Cancelar</button>
                            <button type="button" class="btn toggle-btn btn-main no-margin-top" data-target="filter"
                                data-show-text="Mostrar filtros" data-hide-text="Ocultar filtros">
                                Mostrar filtros
                            </button>
                        </div>
                    </div>


                    <div id="filter" class="toggle-content ">
                        <label>Filtrar por:</label>

                        <div id="filter-box">

                            <!-- Category filter -->
                            <fieldset class="filter-category">
                                <legend>CategorÃ­as:</legend>
                                <input type="checkbox" id="entrantes" name="category" value="breakfast">
                                <label for="entrantes">Desayuno</label><br>

                                <input type="checkbox" id="principal" name="category" value="lunch">
                                <label for="principal">Almuerzo</label><br>

                                <input type="checkbox" id="cena" name="category" value="dinner">
                                <label for="postre">Cena</label><br>

                                <input type="checkbox" id="postre" name="category" value="dessert">
                                <label for="postre">Postre</label>
                            </fieldset>

                            <!-- Difficulty filter -->
                            <fieldset class="filter-difficulty">
                                <legend>Dificultad:</legend>
                                <input type="checkbox" id="easy-search" name="difficulty" value="easy">
                                <label for="easy-search">FÃ¡cil</label><br>

                                <input type="checkbox" id="medium-search" name="difficulty" value="medium">
                                <label for="medium-search">Medio</label><br>

                                <input type="checkbox" id="hard-search" name="difficulty" value="hard">
                                <label for="hard-search">DifÃ­cil</label>
                            </fieldset>

                            <!-- Time filter -->
                            <fieldset class="filter-time">
                                <legend>Tiempo de preparaciÃ³n:</legend>
                                <input type="checkbox" id="time-15" name="time" value="15">
                                <label for="time-15">15 min</label><br>

                                <input type="checkbox" id="time-30" name="time" value="30">
                                <label for="time-30">30 min</label><br>

                                <input type="checkbox" id="time-45" name="time" value="45">
                                <label for="time-45">45 min</label><br>

                                <input type="checkbox" id="time-60" name="time" value="60">
                                <label for="time-60">60 min</label><br>

                                <input type="checkbox" id="time-90" name="time" value="90">
                                <label for="time-90">90 min</label><br>

                                <input type="checkbox" id="time-120" name="time" value="120">
                                <label for="time-120">120 min</label>
                            </fieldset>
                        </div>
                        <!-- Button -->
                        <div class="search-button">
                            <button type="submit" class="btn btn-main">Aplicar filtros</button>
                            <button type="button" class="btn btn-delete" id="clear-filters">Limpiar</button>
                        </div>
                    </div>



                </form>
            </section>

            <!--! Recipe list -->
            <section id="section-list">
                <h2 class="h1">â€“ Recetas â€“</h2>
                <div id="recipes-list"></div>
                <div id="buttons-list">
                    <div id="pagination">
                        <button type="button" id="prev-page" class="btn btn-main" disabled><i class="fa-solid fa-angle-left"></i> Anterior</button>
                        <span id="page-info">PÃ¡gina 1</span>
                        <button type="button" id="next-page" class="btn btn-main">Siguiente <i class="fa-solid fa-angle-right"></i></button>
                    </div>
                    <div id="export-import">
                        <button type="button" id="exportBtn" class="btn btn-export-import">Exportar recetas</button>
                        <button type="button" id="importBtn" class="btn btn-export-import">Importar recetas</button>
                        <button type="button" class="btn toggle-btn btn-main no-margin-top" data-target="recipes-form"
                            data-show-text="AÃ±adir receta" data-hide-text="Cerrar formulario">
                            AÃ±adir receta
                        </button>
                    </div>
                </div>
            </section>

            <div id="recipes-modal" class="hidden"></div>


            <!--!Form to add recipes -->
            <section id="recipes-form" class="toggle-content">
                <h2 class="h1">â€“ AÃ±adir Recetas â€“</h2>

                <form id="form-add-recipe">

                    <!--Name -->
                    <div class="form-group">
                        <label for="recipe-name">Nombre de la Receta:</label><br>
                        <input type="text" id="recipe-name" class="input-base input-recipe" name="recipe-name"
                            placeholder="Introduce el nombre" required>
                    </div>

                    <!--Time -->
                    <div class="form-group">
                        <label for="prep-time">Tiempo de PreparaciÃ³n :</label><br>
                        <select id="prep-time" class="input-base" name="prep-time" required>
                            <option value="">Selecciona el Tiempo</option>
                            <option value="15">15 min</option>
                            <option value="30">30 min</option>
                            <option value="45">45 min</option>
                            <option value="60">60 min</option>
                            <option value="90">90 min</option>
                            <option value="120">120 min</option>
                        </select>
                    </div>

                    <!--Difficulty level -->
                    <fieldset class="form-group" id="difficulty-level">
                        <legend>Nivel de Dificultad:</legend>
                        <div class="difficulty-option">
                            <input type="radio" id="easy" name="difficulty" value="easy" required>
                            <label for="easy">FÃ¡cil</label>
                        </div>

                        <div class="difficulty-option">
                            <input type="radio" id="medium" name="difficulty" value="medium">
                            <label for="medium">Medio</label>
                        </div>

                        <div class="difficulty-option">
                            <input type="radio" id="hard" name="difficulty" value="hard">
                            <label for="hard">DifÃ­cil</label>
                        </div>
                    </fieldset>
                    <!-- Category -->
                    <label for="recipe-category">CategorÃ­a</label><br>
                    <select id="recipe-category" class="input-base">
                        <option value="all">Todas las categorÃ­as</option>
                        <option value="breakfast">Desayuno</option>
                        <option value="lunch">Almuerzo</option>
                        <option value="dinner">Cena</option>
                        <option value="dessert">Postre</option>
                    </select>
                    <!--Ingredients -->
                    <div class="form-group" id="ingredients-form">
                        <label for="ingredient-input">Ingredientes:</label><br>
                        <input type="number" id="quantity-input" class="input-base input-quantity" name="quantity-input"
                            placeholder="Cantidad" min="0" step="1">
                        <select id="measure-select" class="input-base" name="measure-select">
                            <option value="">Medida</option>
                            <option value="g">g</option>
                            <option value="kg">kg</option>
                            <option value="ml">ml</option>
                            <option value="L">L</option>
                            <option value="cdita">cdita</option>
                            <option value="cda">cda</option>
                            <option value="taza">tza</option>
                            <option value="onza">oz</option>
                            <option value="ud">ud</option>
                            <option value="pizca">pizca</option>
                            <option value="hoja">hoja</option>
                            <option value="rama">rama</option>
                            <option value="trozo">trozo</option>
                        </select>
                        <input type="text" id="ingredient-input" class="input-base input-recipe" name="ingredient-input"
                            placeholder="AÃ±ade ingrediente">
                        <button type="button" id="btnAddIngredient" class="btn btn-main">AÃ±adir</button>
                        <ul id="ingredient-list" class="list-box"></ul>
                    </div>

                    <!--Instructions -->
                    <div class="form-group">
                        <label for="instructions-input">Pasos:</label><br>
                        <input type="text" id="instructions-input" class="input-base input-instruction" name="instructions-input"
                            placeholder="AÃ±ade paso">
                        <button id="btnAddInstruction" class="btn btn-main" type="button">AÃ±adir</button>
                        <ul id="instructions-list" class="list-box"></ul>
                    </div>

                    <!--Image-->
                    <!--
                    <div class="form-group">
                        <label for="recipe-image">Foto de la receta:</label><br>
                        <div id="img-container">
                            <input type="file" id="recipe-image" name="recipe-image" accept="image/*">
                            <div id="image-preview" class="image-preview">
                                <button type="button" id="btn-remove-photo" class="btn btn-delete">Eliminar
                                    foto</button>
                            </div>
                        </div>
                    </div>
                    -->
                    <!--Buttons-->
                    <div id="form-buttons">
                        <button type="submit" id="btn-add" class="btn btn-main">AÃ±adir receta</button>
                        <button type="reset" class="btn btn-cancel">Cancelar</button>
                    </div>
                </form>
            </section>

        </div>
        <a href="https://forms.gle/3NSFw4gmj8VCPBry9" 
   class="feedback-btn"  target="_blank"  title="Enviar feedback"><i class="fa-solid fa-lightbulb"></i></a>
    </main>
    <footer class="credits">
        <p> Â© 2025 Ruth MillÃ¡n Piqueras.</p>
        <p>Fondos modificados a partir de imÃ¡genes de 
            <a href="https://www.freepik.es/foto-gratis/marco-plano-pasta-e-ingredientes-crudos_6080829.htm" target="_blank">Freepik (1)</a> y 
            <a href="https://www.freepik.es/foto-gratis/vista-superior-surtido-verduras-portapapeles_12418251.htm" target="_blank">Freepik (2)</a> Â· 
            Iconos de <a href="https://fontawesome.com/" target="_blank">Font Awesome</a>.
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <script type="module" src="js/main.js"></script>

    <!-- Confirmation Modal  -->
    <div id="confirm-modal" class="modal hidden">
        <div class="modal-content">
            <p id="confirm-message">Â¿EstÃ¡s seguro?</p>
            <div class="modal-buttons">
                <button type="button" id="confirm-yes" class="btn btn-main">SÃ­</button>
                <button type="button" id="confirm-no" class="btn btn-cancel">Cancelar</button>
            </div>
        </div>
    </div>
</body>

</html>